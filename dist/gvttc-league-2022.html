<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>

<h2>GVTTC League 2022</h2>
<div id="d"></div>
<br/>
<div id="t"></div>

<style>
body {
  font-family: Roboto;
  font-size: 30px;
}
#d, h2 {
  width: 100%;
  padding: 16px;
}
.row {
  display: flex;
}
.cell {
  width: 80px;
  height: 80px;
  line-height: 80px;
  border: 1px solid black;
  text-align: center;
}
.red {
  color: red;
}
.blue {
  color: blue;
}
.green {
  color: green;
}
.diag {
  background: linear-gradient(to top right, #fff calc(50% - 1px), black , #fff calc(50% + 1px) )
}
</style>

<script>
  const teams = [
    ['Cougar', 'Mao, Lucas, Nick, Kevin, Louise'],
    ['Victor', 'Jason, Nan, Bill'],
    ['Young Fighters', 'Terry, Adrian, David Su, Ethan, Ramana'],
    ['Panda', 'Peter Yau, Jack, George, Nathaniel, Andrew'],
    ['SFU', 'James, Allan, Issac, Kim, Dipak'],
    ['Athletic Sandwiches', 'Leo, Charles, Warren, Dan, Thomas, Anson'],
    ['BC Hydro', 'Qing, Simon, Hannah, Hamid, Tudor'],
    ['SMV', 'Sofia, Maggie, Vanessa, Rita, Shuwing'],
    ['King Back', 'Norman, Cavin, Michael, Brian'],
    ['Surrey Warrior', 'Leon, Hill, Sam Trat, Barry, Hai'],
    ['Filipino Pongers', 'Tam, Aldean, Vadim, Daryl'],
    ['D.J.', 'Daniel, Jonathan, Joanne']
  ]

  let r = [
    [-1,-1,-1,-1,-1,-1,-1,3,8,5,9],
    [-1,-1,5,-1,8,-1,8,-1,6,-1],
    [4,-1,3,-1,4,-1,9,-1,-1],
    [5,-1,6,-1,7,-1,-1,-1],
    [4,-1,1,-1,-1,-1,-1],
    [7,-1,-1,-1,-1,3],
    [-1,-1,-1,9,-1],
    [-1,8,-1,5],
    [-1,4,-1],
    [-1,4],
    [-1]
  ]

  const len = r[0].length + 1
  r = r.map(x => Array(len - x.length).fill(-1).concat(x))
  r.push(Array(len).fill(-1))
  for(let i = 0; i < len; i++) {
    for(let j = 0; j < len; j++) {
      if (i > j && r[j][i] > -1) r[i][j] = 9 - r[j][i]
    }
  }
  const l = r.map((x, i) => [i, x.filter(z => z > 0).reduce((p, c) => p + c)]).sort((a, b) => b[1] - a[1])

  const d = document.getElementById('d')
  const header = `<div class="row"><div class="cell diag"></div>${[...Array(len).keys()].map(x => `<div class="cell">T${x+1}</div>`).join('')}<div class="cell blue">T</div><div class="cell green">R</div></div>`
  d.innerHTML = header + r.map((x, i) => `<div class="row"><div class="cell">T${i+1}</div>${x.map((y, j) => `<div class="cell ${i === j ? 'diag' : ''}">${y === -1 ? '' : `${y > 4 ? `<span class="red">${y}</span>` : y}:${y < 5 ? `<span class="red">${9 - y}</span>` : 9 - y}`}</div>`).join('')}<div class="cell blue">${x.filter(z => z > 0).reduce((p, c) => p + c)}</div><div class="cell green">${l.findIndex(z => z[0] === i) + 1}</div></div>`).join('')

  const t = document.getElementById('t')
  t.innerHTML = teams.map((x, i) => `<div>Team ${i+1} - ${x[0]} - ${x[1]}</div>`).join('')
</script>